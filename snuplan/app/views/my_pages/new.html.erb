
<%= form_with scope: :event, url: my_pages_index_path, local: true do |f| %>
 
 <!-------양식 안지켰을때 뜰 에러메시지 ------->
 <% if @event.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@article.errors.count, "error") %> 글자수 안맞아서 저장이 안댔어요!:
      </h2>
      <ul>
        <% @event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %> 
 
 <div class = "create_form">
  <p>
    <%= f.label :제목 %>
    <%= f.text_field :title %>
  </p>
    <p>
    <%= f.label :일시 %>
<%= f.datetime_select :date, start_year: @year, ampm: true, prompt: {month: '월', day: '일', hour: '시간' } %>
  </p>
    <p>
    <%= f.label :장소 %>
    <%= f.text_field :location %>
  </p>
   <p>
    <%= f.label :본문 %>
    <%= f.text_area :text %>
  </p>
  <p> <!--(여기를 tag model의 key로 설정해두면 되겠다!)  -->
    <%= f.label :Tag%>
    <% @tags.each do |t| %>
			<ul>
				<!-- 체크박스 checked 반응 설정 모르겠다.. label이랑 id값이 같아야 되는 것 같은데.. 더 찾아봐야겠다-->
				<li><%= f.check_box :tag_id, {:id => "#{t}", multiple: true}, "#{t.name}" %>
					<%= f.label :tag_id, "#{t.name}", :for => "#{t}" %>
					<!-- 중복선택 반영되게끔 하자!! 좋아 잘하고있어-->
				</li>		
			</ul>
			<% end %>
  </p>
 </div>

  <p>
    <%= f.submit %>
  </p>
 
<% end %>

<%= link_to '마이페이지로 가자', my_pages_path%>

 

   
